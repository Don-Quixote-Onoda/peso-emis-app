import{r as s,j as t,R as f,a as e,_ as K}from"./app-da45c218.js";import{F as O}from"./tooltip.esm-9579f83e.js";import{D as V,C as l}from"./column.esm-37336c08.js";import{I as Y}from"./inputtext.esm-42e28cf9.js";import{B as r}from"./button.esm-e6710525.js";import{D as P}from"./dialog.esm-b8e11821.js";import{I as m}from"./InputError-aa7826ce.js";import{I as c}from"./InputLabel-191cf033.js";import{P as z}from"./PrimaryButton-1399d2d0.js";import{T as d}from"./TextInput-2c7da56d.js";import"./hooks.esm-8191fb63.js";import"./ripple.esm-189b0961.js";import"./dropdown.esm-262ede37.js";import"./overlayservice.esm-d5c67389.js";import"./csstransition.esm-b593d0e3.js";function de({users:x,confirmDeleteUser:C,viewUser:k,editUser:A,setType:F}){const[S,_]=s.useState(""),[g,D]=s.useState({global:{value:null,matchMode:O.CONTAINS}}),[T,v]=s.useState(!1),[R,w]=s.useState(!1),I=a=>{const h=a.target.value;let y={...g};y.global.value=h,D(y),_(h)},b=()=>{v(!1)},u=()=>{w(!1)},L=()=>t("div",{className:"flex flex-wrap gap-2 justify-content-between align-items-center",children:[e("h4",{className:"m-0",children:"Users"}),t("div",{className:"flex gap-2",children:[e(r,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:()=>v(!0)}),t("span",{className:"p-input-icon-left",children:[e("i",{className:"pi pi-search"}),e(Y,{value:S,onChange:I,placeholder:"Keyword Search"})]})]})]}),E=()=>{N(route("activate-user"),{onSuccess:()=>{p(),u()}})},j=t(f.Fragment,{children:[e(r,{label:"No",icon:"pi pi-times",outlined:!0,onClick:u}),e(r,{label:"Yes",icon:"pi pi-check",severity:"danger",onClick:E})]}),W=e(f.Fragment,{}),q=a=>e("span",{children:a.role==1?"Admin":"Employer"}),B=a=>{w(!0),o(a)},J=a=>a.role==0?a.is_activated==0?e(r,{label:"Activate",onClick:h=>B(a),icon:"pi pi-check"}):e("span",{}):e("span",{}),M=a=>t(f.Fragment,{children:[e(r,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>k(a)}),e(r,{icon:"pi pi-pencil",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>A(a)}),e(r,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>C(a)})]}),{data:i,setData:o,post:N,processing:H,errors:n,reset:p}=K({name:"",email:"",password:"",password_confirmation:"",role:1});s.useEffect(()=>()=>{p("password","password_confirmation")},[]);const U=a=>{a.preventDefault(),N(route("add-user")),F("default"),p(),b()},G=L();return s.useState(null),t("div",{className:"card mt-5 max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[t(V,{value:x,paginator:!0,header:G,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],dataKey:"id",filters:g,filterDisplay:"menu",emptyMessage:"No users found.",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",children:[e(l,{field:"name",header:"Username",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(l,{field:"email",header:"Email Address",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(l,{field:"role",header:"Role",body:q,sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(l,{field:"is_activated",header:"Role",body:J,sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(l,{body:M,exportable:!1,style:{minWidth:"12rem",display:"flex",gap:"0.5rem"}})]}),e(P,{visible:T,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Add New",modal:!0,footer:W,onHide:b,children:t("form",{onSubmit:U,children:[t("div",{children:[e(c,{htmlFor:"name",value:"Name"}),e(d,{id:"name",name:"name",value:i.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:a=>o("name",a.target.value),required:!0}),e(m,{message:n.name,className:"mt-2"})]}),t("div",{className:"mt-4",children:[e(c,{htmlFor:"email",value:"Email"}),e(d,{id:"email",type:"email",name:"email",value:i.email,className:"mt-1 block w-full",autoComplete:"username",onChange:a=>o("email",a.target.value),required:!0}),e(m,{message:n.email,className:"mt-2"})]}),t("div",{className:"mt-4",children:[e(c,{htmlFor:"password",value:"Password"}),e(d,{id:"password",type:"password",name:"password",value:i.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>o("password",a.target.value),required:!0}),e(m,{message:n.password,className:"mt-2"})]}),t("div",{className:"mt-4",children:[e(c,{htmlFor:"password_confirmation",value:"Confirm Password"}),e(d,{id:"password_confirmation",type:"password",name:"password_confirmation",value:i.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>o("password_confirmation",a.target.value),required:!0}),e(m,{message:n.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center justify-end mt-4",children:e(z,{className:"ml-4",disabled:H,children:"Add"})})]})}),e(P,{visible:R,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Add New",modal:!0,footer:j,onHide:u,children:e("h1",{children:"Are you sure you want to activate this account?"})})]})}export{de as default};
