import{j as a,a as t}from"./app-8152747c.js";import{A as Ee}from"./AuthenticatedLayout-87c74c07.js";import{r as i}from"./react-9a873dbd.js";import{B as f}from"./react-chartjs-2-8f40175f.js";import{C as Oe,a as Se}from"./chart.js-d090789a.js";import P from"./html2canvas-0a33ed42.js";import{E as I}from"./jspdf-7a201d71.js";import{B as y,a as Y,I as H,b as K,D as Ae,C as x}from"./primereact-81f5fb97.js";import{n as ke}from"./@inertiajs-ef2582a9.js";import{a as Me}from"./axios-aba6f0e0.js";import{N as W}from"./nprogress-e0bc7c5f.js";import"./react-dom-3eb6303a.js";import"./call-bind-2ea32180.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./scheduler-04ce0582.js";import"./laravel-vite-plugin-d10ca5e8.js";/* empty css                   */import"./@babel-e66356b2.js";import"./fflate-8981c52c.js";import"./deepmerge-89e33937.js";import"./qs-da11641f.js";import"./side-channel-9a8f457d.js";import"./object-inspect-4012e9c9.js";import"./lodash.isequal-c571d922.js";import"./react-transition-group-0105c8fc.js";import"./dom-helpers-9a525042.js";import"./ApplicationLogo-ba68fffa.js";import"./Dropdown-c2b3f592.js";import"./@headlessui-7974b500.js";import"./@kurkle-b1b89bbc.js";W.configure({showSpinner:!1});function dt(D){const[B,z]=i.useState([]),[_,V]=i.useState([]),[L,J]=i.useState([]),[F,q]=i.useState([]),[E,Q]=i.useState([]),[O,X]=i.useState([]),[$,Z]=i.useState([]),[G,ee]=i.useState([]),[j,te]=i.useState([]),S=new Date,[A,ae]=i.useState(null),[k,le]=i.useState(null),b=S.toLocaleString("default",{month:"long"}),M=S.getFullYear(),se=S.getDate(),N=Math.ceil(se/7),[ne,w]=i.useState(!1),[oe,C]=i.useState(!1),T="DOLE RO 10 (NORTHERN MINDANAO)",ie="DOLE BUKIDNON FIELD OFFICE",re="VALENCIA CITY (BUKIDNON)",[ce,de]=i.useState([]),pe=async e=>{e.preventDefault(),W.start();try{const l=await Me.post(route("getApplicantsTimeRange"),{dateFrom:A,dateTo:k});l.status===200&&(de(l.data),W.done(),w(!1),C(!0))}catch{}finally{}};i.useEffect(()=>{const e=D.applicants_report;let l=[],r=[],c=[];e.map(s=>{let d=0;s.month===b&&s.weeks.map(n=>{n.week==="Week "+N&&n.days.map(o=>{r.push(o)}),n.days.map(o=>{l.push(o)})}),s.weeks.map(n=>{n.days.map(o=>{d+=o.applicants})}),c.push({month:s.month,applicants:d})}),J(l),V(r),z(c)},[]);const me={labels:L.map(e=>e.day),datasets:[{label:"Applicants Applied in "+b,data:L.map(e=>e.applicants),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]},he={labels:_.map(e=>e.day),datasets:[{label:"Applicants Applied in Week "+N,data:_.map(e=>e.applicants),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]},fe={labels:B.map(e=>e.month),datasets:[{label:"Applicants Hired in "+M,data:B.map(e=>e.applicants),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]};i.useEffect(()=>{const e=D.employer_applied_report;let l=[],r=[],c=[];e.map(s=>{let d=0;s.month===b&&s.weeks.map(n=>{n.week==="Week "+N&&n.days.map(o=>{r.push(o)}),n.days.map(o=>{l.push(o)})}),s.weeks.map(n=>{n.days.map(o=>{d+=o.employers})}),c.push({month:s.month,employers:d})}),X(l),Q(r),q(c),console.log(O),console.log(E),console.log(F)},[]);const ue={labels:O.map(e=>e.day),datasets:[{label:"Establishments in "+b,data:O.map(e=>e.employers),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]},ge={labels:E.map(e=>e.day),datasets:[{label:"Establishments in Week "+N,data:E.map(e=>e.employers),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]},ye={labels:F.map(e=>e.month),datasets:[{label:"Establishments in "+M,data:F.map(e=>e.employers),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ccc","#ccc"],hoverOffset:4}]};i.useEffect(()=>{const e=D.applicants_hired;let l=[],r=[],c=[];e.map(s=>{let d=0;s.month===b&&s.weeks.map(n=>{n.week==="Week "+N&&n.days.map(o=>{r.push(o)}),n.days.map(o=>{l.push(o)})}),s.weeks.map(n=>{n.days.map(o=>{d+=o.hired_applicants})}),c.push({month:s.month,applicants:d})}),te(l),ee(r),Z(c)},[]);const be={labels:j.map(e=>e.day),datasets:[{label:"Applicants Applied in "+b,data:j.map(e=>e.hired_applicants),backgroundColor:["#FFCE56","#FF6384","#36A2EB","#ffce56","#ffce56"],hoverOffset:4}]},Ne={labels:G.map(e=>e.day),datasets:[{label:"Applicants Hired in Week "+N,data:G.map(e=>e.hired_applicants),backgroundColor:["#FFCE56","#FF6384","#36A2EB","#ffce56","#ffce56"],hoverOffset:4}]},xe={labels:$.map(e=>e.month),datasets:[{label:"Applicants Hired in "+M,data:$.map(e=>e.applicants),backgroundColor:["#FFCE56","#FF6384","#36A2EB","#ffce56","#ffce56"],hoverOffset:4}]};let m=i.useRef(null);Oe.register(Se);const U=e=>{const l=new Date,r=l.toLocaleString("default",{month:"long"}),c=l.getDate(),s=l.getFullYear();l.getHours(),l.getMinutes(),l.getSeconds();const d=`${r} ${c}, ${s}`;e.target;let n=window.document.getElementsByClassName("div2PDF1")[0];P(n).then(o=>{const h=o.toDataURL("image/png"),p=new I({orientation:"landscape"}),u=p.getImageProperties(h),g=p.internal.pageSize.getWidth(),v=u.height*g/u.width;p.addImage(h,"PNG",0,0,g,v),p.save("Summary Report - Applicants Applied ("+d+").pdf")})},De=e=>{const l=new Date,r=l.toLocaleString("default",{month:"long"}),c=l.getDate(),s=l.getFullYear();l.getHours(),l.getMinutes(),l.getSeconds();const d=`${r} ${c}, ${s}`;e.target;let n=window.document.getElementsByClassName("applicantsReportData")[0];P(n).then(o=>{const h=o.toDataURL("image/png"),p=new I({orientation:"portrait"}),u=p.getImageProperties(h),g=p.internal.pageSize.getWidth(),v=u.height*g/u.width;p.addImage(h,"PNG",0,0,g,v),p.save("Applicants Report - Applicants Applied ("+d+").pdf")}),C(!1)},R=()=>{const e=new Date,l=e.toLocaleString("default",{month:"long"}),r=e.getDate(),c=e.getFullYear();let s=e.getHours();const d=e.getMinutes(),n=e.getSeconds(),o=s>=12?"PM":"AM";return s>12&&(s-=12),`${l} ${r}, ${c} at ${s}:${d}:${n} ${o}`},ve=e=>{const l=new Date,r=l.toLocaleString("default",{month:"long"}),c=l.getDate(),s=l.getFullYear();l.getHours(),l.getMinutes(),l.getSeconds();const d=`${r} ${c}, ${s}`;e.target;let n=window.document.getElementsByClassName("div2PDF2")[0];P(n).then(o=>{const h=o.toDataURL("image/png"),p=new I({orientation:"landscape"}),u=p.getImageProperties(h),g=p.internal.pageSize.getWidth(),v=u.height*g/u.width;p.addImage(h,"PNG",0,0,g,v),p.save("Summary Report - Applicants Hired ("+d+").pdf")})},we=e=>t("span",{children:e.applicant_status.applicant_status_type.replaceAll('"',"")}),Fe=e=>t("span",{children:e.applicant_status.applicant_type===0?"Employed":"Unemployed"});return a(Ee,{auth:D.auth,errors:D.errors,header:a("div",{children:[t("h2",{classNameName:"font-semibold text-xl text-gray-800 leading-tight",style:{marginBottom:"1rem"},children:"Summary Reports"}),a("div",{className:"gap-2 flex flex-row justify-content-start",children:[t(y,{label:"Print Applicants",icon:"pi pi-external-link",onClick:()=>w(!0)}),t(y,{label:"Print Establishment",icon:"pi pi-external-link",onClick:()=>w(!0)}),a(Y,{header:"Set report period",visible:ne,style:{width:"50vw"},onHide:()=>w(!1),children:[a("div",{className:"flex-col flex mb-3 justify-content-center",children:[t("p",{className:"text-md font-bold my-1",children:"Regional Office"}),t("span",{className:"p-float-label",children:t(H,{id:"username",className:"w-full",value:T,disabled:!0})})]}),a("div",{className:"flex-col flex mb-3 justify-content-center",children:[t("p",{className:"text-md font-bold my-1",children:"Region"}),t("span",{className:"p-float-label",children:t(H,{id:"username",className:"w-full",value:"REGION 10 NORTHERN MINDANAO",disabled:!0})})]}),a("div",{className:"flex-col flex mb-3 justify-content-center",children:[t("p",{className:"text-md font-bold my-1",children:"Province"}),t("span",{className:"p-float-label",children:t(H,{id:"username",className:"w-full",value:"BUKIDNON",disabled:!0})})]}),a("div",{className:"flex gap-3 ",children:[a("div",{className:"flex-col flex mb-3 justify-content-center",style:{flexBasis:"50%"},children:[t("p",{className:"text-md font-bold my-1",children:"Date From"}),t("span",{className:"p-float-label",children:t(K,{className:"w-full",value:A,onChange:e=>ae(e.value),showIcon:!0})})]}),a("div",{className:"flex-col flex mb-3 justify-content-center",style:{flexBasis:"50%"},children:[t("p",{className:"text-md font-bold my-1",children:"Date To"}),t("span",{className:"p-float-label",children:t(K,{className:"w-full",value:k,onChange:e=>le(e.value),showIcon:!0})})]})]}),t(y,{label:"Preview",icon:"pi pi-eye",onClick:e=>pe(e)})]}),a(Y,{header:"Set report period",visible:oe,style:{width:"85vw"},onHide:()=>C(!1),children:[a("div",{className:"applicantsReportData p-5",children:[a("div",{className:"applicant-header",children:[a("div",{className:"top-header",children:[t("h5",{className:"text-center mb-1",children:"Republic of the Philippines"}),t("h5",{className:"text-center mb-1",children:"Department of Labor and Employment"}),t("h3",{className:"text-center font-bold text-xl mb-1",children:"NATIONAL SKILLS REGISTRATION PROGRAM"}),t("h3",{className:"text-center font-bold text-md mb-5",children:"Jobseekers Employment Status Report"})]}),t("div",{className:"top-title mb-5",children:a("table",{className:"w-full",children:[a("tr",{children:[t("td",{children:a("div",{className:"flex gap-2",children:[a("p",{className:"font-bold text-md",children:["Regional Office:"," "]}),t("p",{className:"underline",children:T})]})}),t("td",{children:a("div",{className:"flex gap-2",children:[a("p",{className:"font-bold text-md",children:["Field Office:"," "]}),t("p",{className:"underline",children:ie})]})})]}),a("tr",{children:[t("td",{children:a("div",{className:"flex gap-2",children:[a("p",{className:"font-bold text-md",children:["PESO:"," "]}),t("p",{className:"underline",children:re})]})}),t("td",{children:a("div",{className:"flex gap-2",children:[a("p",{className:"font-bold text-md",children:["Date Coverage:"," "]}),a("p",{className:"underline",children:[new Date(A).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})," ","to"," ",new Date(k).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})]})})]})]})})]}),t("div",{className:"applicant-body",children:t("div",{className:"card my-3",children:a(Ae,{value:ce,tableStyle:{minWidth:"50rem"},children:[t(x,{field:"id",header:"No."}),t(x,{field:"full_name",header:"Name"}),t(x,{field:"phone_number",header:"Contact no."}),t(x,{field:"sex",header:"Sex"}),t(x,{field:"applicant_status.applicant_status_type",body:Fe,header:"Status (as of registration or last update)"}),t(x,{field:"full_name",body:we,header:"Status: Employed or Unemployed"})]})})})]}),t(y,{label:"Print",icon:"pi pi-eye",onClick:e=>De(e)})]})]})]}),children:[t(ke,{title:"EMIS - Summary Reports"}),a("div",{className:"container px-6 mx-auto grid",children:[t("h2",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Summary Reports"}),a("div",{className:"",children:[t("div",{className:"flex justify-center pb-3",onClick:e=>U(e),children:t(y,{label:"Print Applicant Applied Report",style:{background:"#FF6384",border:"none"},className:"py-1 px-3 bg-red-900"})}),a("div",{className:"w-full mb-8 div2PDF1 overflow-hidden rounded-lg shadow-xs",children:[t("h1",{className:"text-2xl text-center mb-0 font-bold",children:"Applicants Applied"}),t("span",{className:"text-xs text-center mb-4 font-bold d-block",children:"("+R()+")"}),a("div",{className:"w-full overflow-x-auto card flex p-5 flex-wrap gap-5 flex-row summary-report",children:[t("div",{children:t(f,{ref:m,data:me,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:he,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:fe,style:{width:"100%",height:"auto"}})})]})]}),t("div",{className:"flex justify-center pb-3",onClick:e=>ve(e),children:t(y,{label:"Print Applicant Hired Report",style:{background:"#FF6384",border:"none"},className:"py-1 px-3 bg-red-900"})}),a("div",{className:"w-full mb-8 div2PDF2 overflow-hidden rounded-lg shadow-xs",children:[t("h1",{className:"text-2xl text-center mb-0 font-bold",children:"Applicants Hired"}),t("span",{className:"text-xs text-center mb-4 font-bold d-block",children:"("+R()+")"}),a("div",{className:"w-full overflow-x-auto card flex p-5 flex-wrap gap-5 flex-row summary-report ",children:[t("div",{children:t(f,{ref:m,data:be,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:Ne,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:xe,style:{width:"100%",height:"auto"}})})]})]})]}),a("div",{className:"",children:[t("div",{className:"flex justify-center pb-3",onClick:e=>U(e),children:t(y,{label:"Print Establishments Report",style:{background:"#FF6384",border:"none"},className:"py-1 px-3 bg-red-900"})}),a("div",{className:"w-full mb-8 div2PDF1 overflow-hidden rounded-lg shadow-xs",children:[t("h1",{className:"text-2xl text-center mb-0 font-bold",children:"Establishment"}),t("span",{className:"text-xs text-center mb-4 font-bold d-block",children:"("+R()+")"}),a("div",{className:"w-full overflow-x-auto card flex p-5 flex-wrap gap-5 flex-row summary-report",children:[t("div",{children:t(f,{ref:m,data:ue,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:ge,style:{width:"100%",height:"auto"}})}),t("div",{children:t(f,{ref:m,data:ye,style:{width:"100%",height:"auto"}})})]})]})]})]})]})}export{dt as default};
