import{j as a,a as e,F as E}from"./app-8152747c.js";import{r as l,R as b}from"./react-9a873dbd.js";import T from"./EstablishmentDetails-4c6d75c4.js";import L from"./EstablishmentContactDetails-2a683935.js";import{F as R,B as s,D as A,C as n,a as M,I as V}from"./primereact-81f5fb97.js";import B from"./Add-5937e910.js";import H from"./Edit-60720741.js";import I from"./View-d434e9d5.js";import"./@inertiajs-ef2582a9.js";import"./jspdf-7a201d71.js";import"./@babel-e66356b2.js";import"./fflate-8981c52c.js";import"./axios-aba6f0e0.js";import"./react-dom-3eb6303a.js";import"./call-bind-2ea32180.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./scheduler-04ce0582.js";import"./laravel-vite-plugin-d10ca5e8.js";/* empty css                   */import"./deepmerge-89e33937.js";import"./qs-da11641f.js";import"./side-channel-9a8f457d.js";import"./object-inspect-4012e9c9.js";import"./nprogress-e0bc7c5f.js";import"./lodash.isequal-c571d922.js";import"./react-transition-group-0105c8fc.js";import"./dom-helpers-9a525042.js";import"./select-philippines-address-196c85dc.js";import"./Dropdown-c2b3f592.js";import"./@headlessui-7974b500.js";import"./InputError-a1a7a641.js";function Se({employer:r,back:p,setType:u}){const[P,v]=l.useState(),[N,w]=l.useState(""),[f,k]=l.useState({global:{value:null,matchMode:R.CONTAINS}}),[m,c]=l.useState("default"),d=()=>{c("default")},[S,h]=l.useState(!1);l.useEffect(()=>{v(r.employer_vacancy_detail.filter(i=>i.is_active==1))});const D=i=>{const t=i.target.value;let _={...f};_.global.value=t,k(_),w(t)},g=()=>{h(!1)},y=i=>{h(!0),setData({id:i.id})},C=a(b.Fragment,{children:[e(s,{label:"No",icon:"pi pi-times",outlined:!0,onClick:g}),e(s,{label:"Yes",icon:"pi pi-check",severity:"danger",onClick:y})]}),[o,j]=l.useState({employer_vacancy_detail:{},employer_posting_detail:{},employer_qualification_requirement:{}}),x=i=>{r.employer_vacancy_detail.map(t=>{t.id===i.id&&(o.employer_vacancy_detail=t)}),r.employer_posting_detail.map(t=>{t.id===i.id&&(o.employer_posting_detail=t)}),r.employer_qualification_requirement.map(t=>{t.id===i.id&&(o.employer_qualification_requirement=t)}),c("edit")},J=i=>{r.employer_vacancy_detail.map(t=>{t.id===i.id&&(o.employer_vacancy_detail=t)}),r.employer_posting_detail.map(t=>{t.id===i.id&&(o.employer_posting_detail=t)}),r.employer_qualification_requirement.map(t=>{t.id===i.id&&(o.employer_qualification_requirement=t)}),c("view")},F=i=>a(b.Fragment,{children:[e(s,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>J(i)}),e(s,{icon:"pi pi-pencil",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>x(i)}),e(s,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>y(i)})]}),q=()=>{c("add")},W=(()=>a("div",{className:"flex flex-wrap gap-2 justify-content-between align-items-center",children:[e("h4",{className:"m-0",children:"Job Posting"}),a("div",{className:"flex gap-2",children:[e(s,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:q}),a("span",{className:"p-input-icon-left",children:[e("i",{className:"pi pi-search"}),e(V,{value:N,onChange:D,placeholder:"Keyword Search"})]})]})]}))();return a(E,{children:[e(T,{employer:r,back:p,setType:u}),e(L,{employer:r.employer_establishment_contact_detail,back:p,setType:u}),m=="default"&&a(A,{value:P,paginator:!0,header:W,rows:10,className:"mt-5",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],dataKey:"id",filters:f,filterDisplay:"menu",emptyMessage:"No customers found.",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",children:[e(n,{field:"position_title",header:"Position Title",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{field:"nature_of_work",header:"Nature of Work",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{field:"place_of_work",header:"Place of Work",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{field:"salary",header:"Salary",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{field:"vacancy_count",header:"Vacancy Count",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{field:"job_description",header:"Job Description",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(n,{body:F,exportable:!1,style:{minWidth:"10rem",display:"flex",gap:"0.5rem"}})]}),m=="add"&&e(B,{backEdit:d}),m=="view"&&e(I,{backEdit:d,jobPostings:o}),m=="edit"&&e(H,{backEdit:d,jobPostings:o}),e(M,{visible:S,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Confirm",modal:!0,footer:C,onHide:g,children:a("div",{className:"confirmation-content",children:[e("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),a("span",{children:["Are you sure you want to delete ",e("b",{}),"?"]})]})})]})}export{Se as default};
