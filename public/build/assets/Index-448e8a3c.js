import{r as l,_ as D,j as p,R as q,a as t,n as E}from"./app-0bb05a73.js";import{A as N}from"./AuthenticatedLayout-3234f75d.js";import S from"./Table-8bb1f08a.js";import k from"./Add-59cb15c9.js";import A from"./View-25f0bb4b.js";import C from"./Edit-349dfaef.js";import{D as F}from"./dialog.esm-9d09b369.js";import{B as u}from"./button.esm-67b3c8e3.js";import"./ApplicationLogo-4a89ffa2.js";import"./Dropdown-673c3a47.js";import"./transition-6cb7ce1a.js";import"./tooltip.esm-31176c50.js";import"./hooks.esm-d3e364e1.js";import"./column.esm-3452d3de.js";import"./ripple.esm-7dbbab03.js";import"./inputtext.esm-730e8e94.js";import"./dropdown.esm-58f5b8ae.js";import"./overlayservice.esm-ea0b374b.js";import"./csstransition.esm-6c3d9e4e.js";import"./calendar.esm-bf0c27d6.js";import"./radiobutton.esm-6e10a346.js";import"./InputError-68cc916b.js";function le(s){l.useEffect(()=>{});const[a,f]=l.useState([]),{data:B,setData:y,post:_,put:I,reset:g,processing:R,errors:T}=D();l.useEffect(()=>{f(s.employers[0])});const b=()=>{o("add")},[n,o]=l.useState("default"),[r,j]=l.useState({employer_vacancy_detail:{},employer_posting_detail:{},employer_qualification_requirement:{}}),h=i=>{a.employer_vacancy_detail.map(e=>{e.id===i.id&&(r.employer_vacancy_detail=e)}),a.employer_posting_detail.map(e=>{e.id===i.id&&(r.employer_posting_detail=e)}),a.employer_qualification_requirement.map(e=>{e.id===i.id&&(r.employer_qualification_requirement=e)}),o("edit")},m=()=>{o("default")},x=i=>{a.employer_vacancy_detail.map(e=>{e.id===i.id&&(r.employer_vacancy_detail=e)}),a.employer_posting_detail.map(e=>{e.id===i.id&&(r.employer_posting_detail=e)}),a.employer_qualification_requirement.map(e=>{e.id===i.id&&(r.employer_qualification_requirement=e)}),o("view")},[v,c]=l.useState(!1),J=i=>{c(!0),y({id:i.id})},d=()=>{c(!1)},P=()=>{_(route("delete-job-posting"),{forceFormData:!0,onSuccess:()=>{console.log("success"),g(),o("default"),c(!1)},onError:()=>{}})},w=p(q.Fragment,{children:[t(u,{label:"No",icon:"pi pi-times",outlined:!0,onClick:d}),t(u,{label:"Yes",icon:"pi pi-check",severity:"success",onClick:P})]});return p(N,{auth:s.auth,errors:s.errors,header:t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Job Posting"}),children:[t(E,{title:"EMIS - Job Posting"}),n=="default"&&t("div",{className:"card mt-5 max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:t(S,{employers:a.employer_vacancy_detail,addNew:b,viewJobPosting:x,editJobPosting:h,confirmDeleteJobPosting:J})}),n=="add"&&t(k,{props:s,back:m,setType:o}),n=="view"&&t(A,{props:s,back:m,setType:o,jobPostings:r}),n=="edit"&&t(C,{props:s,back:m,setType:o,jobPostings:r}),t(F,{visible:v,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Confirm",modal:!0,footer:w,onHide:d,children:p("div",{className:"confirmation-content",children:[t("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),t("span",{children:"Are you sure you want to change active status?"})]})})]})}export{le as default};
