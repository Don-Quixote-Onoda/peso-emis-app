import{j as a,a as e}from"./app-8152747c.js";import{r as o,R as f}from"./react-9a873dbd.js";import{F as K,B as r,D as O,C as i,a as P,I as V}from"./primereact-81f5fb97.js";import{I as m}from"./InputError-a1a7a641.js";import{I as c}from"./InputLabel-6701bef9.js";import{P as Y}from"./PrimaryButton-797948d3.js";import{T as d}from"./TextInput-534a9aa4.js";import{_ as z}from"./@inertiajs-ef2582a9.js";import"./jspdf-7a201d71.js";import"./@babel-e66356b2.js";import"./fflate-8981c52c.js";import"./axios-aba6f0e0.js";import"./react-dom-3eb6303a.js";import"./call-bind-2ea32180.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./scheduler-04ce0582.js";import"./laravel-vite-plugin-d10ca5e8.js";/* empty css                   */import"./deepmerge-89e33937.js";import"./qs-da11641f.js";import"./side-channel-9a8f457d.js";import"./object-inspect-4012e9c9.js";import"./nprogress-e0bc7c5f.js";import"./lodash.isequal-c571d922.js";import"./react-transition-group-0105c8fc.js";import"./dom-helpers-9a525042.js";function ke({users:x,confirmDeleteUser:C,viewUser:k,editUser:A,setType:F}){const[S,_]=o.useState(""),[g,T]=o.useState({global:{value:null,matchMode:K.CONTAINS}}),[D,v]=o.useState(!1),[R,w]=o.useState(!1),I=t=>{const h=t.target.value;let y={...g};y.global.value=h,T(y),_(h)},b=()=>{v(!1)},p=()=>{w(!1)},L=()=>a("div",{className:"flex flex-wrap gap-2 justify-content-between align-items-center",children:[e("h4",{className:"m-0",children:"Users"}),a("div",{className:"flex gap-2",children:[e(r,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:()=>v(!0)}),a("span",{className:"p-input-icon-left",children:[e("i",{className:"pi pi-search"}),e(V,{value:S,onChange:I,placeholder:"Keyword Search"})]})]})]}),E=()=>{N(route("activate-user"),{onSuccess:()=>{u(),p()}})},j=a(f.Fragment,{children:[e(r,{label:"No",icon:"pi pi-times",outlined:!0,onClick:p}),e(r,{label:"Yes",icon:"pi pi-check",severity:"danger",onClick:E})]}),W=e(f.Fragment,{}),q=t=>e("span",{children:t.role==1?"Admin":"Employer"}),B=t=>{w(!0),s(t)},J=t=>t.role==0?t.is_activated==0?e(r,{label:"Activate",onClick:h=>B(t),icon:"pi pi-check"}):e("span",{}):e("span",{}),M=t=>a(f.Fragment,{children:[e(r,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>k(t)}),e(r,{icon:"pi pi-pencil",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>A(t)}),e(r,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>C(t)})]}),{data:l,setData:s,post:N,processing:H,errors:n,reset:u}=z({name:"",email:"",password:"",password_confirmation:"",role:1});o.useEffect(()=>()=>{u("password","password_confirmation")},[]);const U=t=>{t.preventDefault(),N(route("add-user")),F("default"),u(),b()},G=L();return o.useState(null),a("div",{className:"card mt-5 max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a(O,{value:x,paginator:!0,header:G,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],dataKey:"id",filters:g,filterDisplay:"menu",emptyMessage:"No users found.",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",children:[e(i,{field:"name",header:"Username",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(i,{field:"email",header:"Email Address",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(i,{field:"role",header:"Role",body:q,sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(i,{field:"is_activated",header:"Role",body:J,sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"14rem"}}),e(i,{body:M,exportable:!1,style:{minWidth:"12rem",display:"flex",gap:"0.5rem"}})]}),e(P,{visible:D,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Add New",modal:!0,footer:W,onHide:b,children:a("form",{onSubmit:U,children:[a("div",{children:[e(c,{htmlFor:"name",value:"Name"}),e(d,{id:"name",name:"name",value:l.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:t=>s("name",t.target.value),required:!0}),e(m,{message:n.name,className:"mt-2"})]}),a("div",{className:"mt-4",children:[e(c,{htmlFor:"email",value:"Email"}),e(d,{id:"email",type:"email",name:"email",value:l.email,className:"mt-1 block w-full",autoComplete:"username",onChange:t=>s("email",t.target.value),required:!0}),e(m,{message:n.email,className:"mt-2"})]}),a("div",{className:"mt-4",children:[e(c,{htmlFor:"password",value:"Password"}),e(d,{id:"password",type:"password",name:"password",value:l.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:t=>s("password",t.target.value),required:!0}),e(m,{message:n.password,className:"mt-2"})]}),a("div",{className:"mt-4",children:[e(c,{htmlFor:"password_confirmation",value:"Confirm Password"}),e(d,{id:"password_confirmation",type:"password",name:"password_confirmation",value:l.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:t=>s("password_confirmation",t.target.value),required:!0}),e(m,{message:n.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center justify-end mt-4",children:e(Y,{className:"ml-4",disabled:H,children:"Add"})})]})}),e(P,{visible:R,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Add New",modal:!0,footer:j,onHide:p,children:e("h1",{children:"Are you sure you want to activate this account?"})})]})}export{ke as default};
